webpackJsonp([7],{35:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=[],t=[],n=0;$(".lang-editor-box").length>0&&($(".lang-editor-box").each(function(a,i){var s=$(this),l=s.data("name"),o=s.data("lang-key"),r=s.data("multiline"),u=s.data("lines"),c=s.data("autocomplete");o&&e.push(o),t.push({name:l,langKey:o,multiline:r,lines:u,autocomplete:c,target:s[0]}),n++}),e.length>0?XE.ajax({type:"get",dataType:"json",url:xeBaseURL+"/"+XE.options.fixedPrefix+"/lang/lines/many",data:{keys:e},success:function(e){$.each(e,function(e,n){$.each(t,function(){e===this.langKey&&(this.lines=n)})}),$.each(t,function(){langEditorBoxRender(this,"obj")})}}):$.each(t,function(){langEditorBoxRender(this,"obj")})),o.default.put("langrequired",function(e,t){var n=e.closest(".lang-editor-box").find("input[name^='xe_lang_preprocessor']:not(:hidden):first"),a=n.val(),i=e.closest(".lang-editor-box").data("valid-name")||e.closest(".lang-editor-box").data("name");return""!==a||(o.default.error(n,XE.Lang.trans("validation.required",{attribute:i})),!1)})}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(7),o=function(e){return e&&e.__esModule?e:{default:e}}(l),r=function(){function e(t){var n=t.$wrapper,i=t.seq,s=t.name,l=t.langKey,o=t.multiline,r=t.lines,u=t.autocomplete;a(this,e),this.$wrapper=n,this.seq=i,this.name=s,this.langKey=l,this.multiline=o,this.lines=r||[],this.autocomplete=u,this.init()}return s(e,[{key:"init",value:function(){this.langKey&&0==this.lines.length?$.ajax({type:"get",dataType:"json",url:xeBaseURL+"/"+XE.options.fixedPrefix+"/lang/lines/"+this.langKey,success:function(e){this.setLines(e),this.render(),this.bindEvents()}.bind(this)}):(this.render(),this.bindEvents())}},{key:"bindEvents",value:function(){this.autocomplete&&this.$wrapper.find("input[type=text]:first,textarea:first").autocomplete({source:"/"+XE.options.fixedPrefix+"/lang/search/"+XE.Lang.locales[0],minLength:1,focus:function(e,t){e.preventDefault()},select:function(e,t){this.setLines(t.item.lines)}})}},{key:"render",value:function(){var e=this,t=XE.Lang.locales[0],n=XE.Lang.locales.slice(1),a="xe_lang_preprocessor://lang/seq/"+this.seq,i=this.getValueFromLinesWithLocale(t)||"",s=this.multiline?"textarea":"text",l=this.multiline?'<input type="hidden" name="'+a+'/multiline" value="true" />':"",o=this.getEditor(a,t,i),r="";n.forEach(function(t,n){var i=e.getValueFromLinesWithLocale(t)||"",s=e.getEditor(a,t,i);r+=['<div key="'+t+'" class="input-group">',""+s,'<span class="input-group-addon">','<span class="flag-code"><i class="'+t+' xe-flag"></i>'+t+"</span>","</span>","</div>"].join("\n")});var u=['<div class="'+s+'">','<input type="hidden" name="xe_use_request_preprocessor" value="Y"/>','<input type="hidden" name="'+a+'/name" value="'+this.name+'" />','<input type="hidden" name="'+a+'/key" value="'+(this.langKey||"")+'" />',""+l,'<input type="hidden" name="'+this.name+'" value="'+(this.langKey||"")+'" />','<div key="'+t+'" class="input-group">',""+o,'<span class="input-group-addon">','<span class="flag-code"><i class="'+t+' xe-flag"></i>'+t+"</span>","</span>","</div>",'<div class="sub">'+r+"</div>","</div>"].join("\n");this.$wrapper.html(u)}},{key:"setLines",value:function(e){var t=this;this.lines=e,XE.Lang.locales.map(function(e){var n="#input-"+t.seq+"-"+e,a=t.getValueFromLinesWithLocale(e);$(n).val(a)})}},{key:"getValueFromLinesWithLocale",value:function(e){for(var t=this.lines,n=t.length,a={};n--;)if(a=t[n],a.locale==e)return a.value}},{key:"getEditor",value:function(e,t,n){var a="input-"+this.seq+"-"+t,i=e+"/locale/"+t;return this.multiline?'<textarea class="form-control" id="'+a+'" name="'+i+'">'+n+"</textarea>":'<input type="text" class="form-control" id="'+a+'" name="'+i+'" value="'+n+'" />'}}]),e}(),u=0;window.langEditorBoxRender=function(e,t){if("obj"===t){var n=e.name,a=e.langKey,i=e.multiline,s=e.lines,l=e.autocomplete;e.target;new r({$wrapper:$(e.target),seq:u,name:n,langKey:a,multiline:i,lines:s,autocomplete:l})}else{var o=e.data("name"),c=e.data("lang-key"),d=e.data("multiline"),p=e.data("lines"),h=e.data("autocomplete");new r({$wrapper:e,seq:u,name:o,langKey:c,multiline:d,lines:p,autocomplete:h})}u++},$(function(){i()}),$(document).on("focus",".lang-editor-box input, textarea",function(){var e=$(this).closest(".lang-editor-box"),t=e.find(".sub");$(t).is(":hidden")&&$(t).slideDown("fast")})}},[35]);